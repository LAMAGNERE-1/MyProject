
	<!-- L'objectif de cet exercice est de cr�er une
	animation dans un balise canvas. Il s'agit
	d'animer un lever - couch� de soleil sur une
	plaine.

	- Cr��z une balise canvas;
	- Cr�ez un dessin qui repr�sente le ciel;
	- Cr�er un dessin qui repr�sente le soleil;
	- Cr�ez un dessin qui repr�sente votre plaine;
	- Le soleil doit d�crire un arc de cercle au dessus de la plaine;
	- La luminosit� ambiante doit varier en fonction de la hauteur
	  du soleil dans l'espace de dessin. -->


      <!DOCTYPE html>
      <html lang="en">
      <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Document</title>
      </head>
      <body>
          <p id="cercle">Dessiner un cercle</p>
          <canvas width="1000px" height="500px" id="mycanvas"></canvas>
          <script>
      
          const myCanvas = document.getElementById('mycanvas');
          const ctx = myCanvas.getContext('2d');
          let coordX = 30;
          let coordY = 330;
          let down = 0;
          let lumSoleil = 0.01;
          let lumCiel = 0.8;
          let lumSol = 0.9;
          let lumStar = 1;
          
          
          function monSoleil(arg) {
            const soleil = myCanvas.getContext('2d');  
            soleil.beginPath();
            soleil.arc(coordX, coordY, 29, 0, 2*Math.PI, false);
            soleil.fillStyle = "rgba(255,255,0," + arg +")"; 
            soleil.fill();  
          }

          function monCiel(arg) {
            const ciel = myCanvas.getContext('2d');
            ciel.fillStyle = "rgba(0,0,150," + arg + ")";
            ciel.fillRect(0,0,1000,300); 
          }
      
          function monSol() {
            const sol = myCanvas.getContext('2d');
            sol.fillStyle = "rgba(60,179,113," + lumSol + ")";
            sol.fillRect(0,300,1000,200);
          }

          function mesEtoiles(arg) {
            const star = myCanvas.getContext('2d');
            star.fillStyle = "rgba(255,255,255," + arg + ")";
            star.fillRect(20,200,10,10);
          }
          // Paysage
      
          document.getElementById('cercle').addEventListener('click',monPaysage);
      
          function monPaysage() {
             
              if(coordX < 1000) {   
              if(coordY > 29 && down == 0) {
              ctx.clearRect(0,0,1000,500);
              monSoleil(lumSoleil)
              monCiel(lumCiel);
              mesEtoiles(lumStar); 
              monSol(); 
              coordX += 1.5;
              coordY -= 1;
              if (lumSoleil<=1) {
                  lumSoleil +=0.009;
              } 
              if (lumCiel>=0.2) {
                    lumCiel -=0.003;
                  } 
            //   console.log(lumCiel);    
              if (lumStar>=0) {
                lumStar -=0.01;
              }
              requestAnimationFrame(monPaysage);
            //   console.log(lumSol);
              } else {
                  ctx.clearRect(0,0,1000,500);
                  monSoleil(lumSoleil)
                  monCiel(lumCiel);
                  mesEtoiles(lumStar);   
                  monSol();
                  coordX += 1.5;
                  coordY += 1;
                  down = 1;
                  if (lumSoleil>=0) {
                  lumSoleil -=0.004;
                  } 
                  if (lumCiel<=0.8) {
                  lumCiel +=0.001;
                  }
                  if (lumStar<=1) {
                  lumStar +=0.01;
                  }
                  requestAnimationFrame(monPaysage);
              } 
          } else {
              ctx.clearRect(0,0,1000,500);
              coordX = 30;
              coordY = 330;
              down = 0;
          }
          }
      
      
      
          </script>
      </body>
      </html>